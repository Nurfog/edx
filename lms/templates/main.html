<%! from django.utils.translation import ugettext as _ %>

<%namespace name='static' file='static_content.html'/>
<%! from django.utils import html %>

## Define a couple of helper functions to make life easier when
## embedding theme conditionals into templates. All inheriting
## templates have access to these functions, and we can import these
## into non-inheriting templates via the %namespace tag.
<%def name="theme_enabled()">
  <% return settings.FEATURES["USE_CUSTOM_THEME"] %>
</%def>

<%def name="stanford_theme_enabled()">
  <% return theme_enabled() and getattr(settings, "THEME_NAME") == "stanford" %>
</%def>

<!DOCTYPE html>
<!--[if IE 7]><html class="ie ie7 lte9 lte8 lte7" lang="en-us"><![endif]-->
<!--[if IE 8]><html class="ie ie8 lte9 lte8" lang="en-us"><![endif]-->
<!--[if IE 9]><html class="ie ie9 lte9" lang="en-us"><![endif]-->
<!--[if gt IE 9]><!--><html lang="en-us"><!--<![endif]-->
<head>
  <%block name="title">
    % if stanford_theme_enabled():
      <title>${_("Home")} | class.stanford.edu</title>
    % else:
      ## "edX" should not be translated
      <title>edX</title>

      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <script type="text/javascript">
        /* immediately break out of an iframe if coming from the marketing website */
        (function(window) {
          if (window.location !== window.top.location) {
            window.top.location = window.location;
          }
        })(this);
      </script>
    % endif
  </%block>

  <script type="text/javascript" src="/jsi18n/"></script>

  <link rel="icon" type="image/x-icon" href="${static.url(settings.FAVICON_PATH)}" />

  <%static:css group='style-vendor'/>
  <%static:css group='style-app'/>
  <%static:css group='style-app-extend1'/>
  <%static:css group='style-app-extend2'/>

  <%static:js group='main_vendor'/>

  <%block name="headextra"/>
  % if theme_enabled():
    <%include file="theme-head-extra.html" />
  % endif

  <!--[if lt IE 9]>
    <script src="${static.url('js/html5shiv.js')}"></script>
  <![endif]-->

  <meta name="path_prefix" content="${EDX_ROOT_URL}">
  <meta name="google-site-verification" content="_mipQ4AtZQDNmbtOkwehQDOgCxUUV2fb_C0b6wbiRHY" />

  % if not course:
    % if theme_enabled():
      <%include file="theme-google-analytics.html" />
    % else:
      <%include file="google_analytics.html" />
    % endif
  % endif

  <%include file="widgets/segment-io.html" />

</head>

<body class="<%block name='bodyclass'/>">
  <a class="nav-skip" href="#content">${_("Skip to this view's content")}</a>

  <%include file="mathjax_accessible.html" />

% if theme_enabled():
  <%include file="theme-header.html" />
% elif not suppress_toplevel_navigation:
  <%include file="navigation.html" />
% endif

  <section class="content-wrapper" id="content">
    ${self.body()}
    <%block name="bodyextra"/>
  </section>

% if theme_enabled():
  <%include file="theme-footer.html" />
% elif not suppress_toplevel_navigation:
  <%include file="footer.html" />
% endif

  <script>window.baseUrl = "${settings.STATIC_URL}";</script>
  <%static:js group='application'/>

	<script type="text/javascript" src="/static/xmodule/modules/js/000-0e1a74833c0206962d495523b3147dc1.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-224d365aed3a968d6876b75a9e39d877.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-2cd7ae0d5fa2a9984b59cef5a2280e0f.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-46084de125ca839459f25db81219dd24.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-6f89a6fecd42ad443889b2a42f0cba64.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-a32214814d3b59d60c4ed7bd0a40957b.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/000-af111f211312d70325129ec128562a4c.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-0b45db8d4ae67b439cff8d0c38d807a8.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-149e5f80fb129c93207c19c2cb17b45a.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-222009e8c24f5628677581995d2488d9.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-2e55a7856b776e9acad11e5914fecb1b.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-4b06b565ce07b7ec692a835beb968b0c.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-4e789164fb697a2e6e6180f9f8255659.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-53c44c016974a4e7b767192c8fa16fe0.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-79f612baa84fbd910e40cb230715ccb1.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-831bfa7f0550106cead1942d7485d9b2.js" charset="utf-8"></script>
<script type="text/javascript" src="/static/xmodule/modules/js/001-bc117318f008b8d41ac8e331dcc56715.js" charset="utf-8"></script>
<link rel="stylesheet" href="/static/player/videoplayer.css"></link>
<script type="text/javascript" src="/static/player/videoplayer.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    var video_div = $('.video');
    video_div.html('');
    var video_source = video_div.attr('data-mp4-source');
    var caption_source = video_div.attr('data-caption-data-dir');
    var video_s = '<video><source src="'+ video_source + '" type="video/mp4"/>';
    if(caption_source!=null && caption_source!='None'){
        video_s += '<track kind="subtitles" src="'+ caption_source + '" srclang="en" lable="english"></track>'
    }
    video_s += '</video>';
    var player = $(video_s);
    video_div.append(player);
    player.mediaelementplayer({
        startLanguage: "ch",
        displayCaptionWhenOnlyOne: true
    });
console.log('lalala');
});
</script>

  <%block name="js_extra"/>
</body>
</html>

<%def name="login_query()">${
  "?course_id={0}&enrollment_action={1}".format(
    html.escape(course_id),
    html.escape(enrollment_action)
  ) if course_id and enrollment_action else ""
}</%def>
